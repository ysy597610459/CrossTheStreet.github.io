window.__require=function t(o,e,n){function r(c,p){if(!e[c]){if(!o[c]){var a=c.split("/");if(a=a[a.length-1],!o[a]){var s="function"==typeof __require&&__require;if(!p&&s)return s(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var l=e[c]={exports:{}};o[c][0].call(l.exports,function(t){return r(o[c][1][t]||t)},l,l.exports,t,o,e,n)}return e[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({BackGroundControl:[function(t,o,e){"use strict";cc._RF.push(o,"436e0OXD8REE4bV0mqqDQv+","BackGroundControl");var n,r=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),i=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var p=t.length-1;p>=0;p--)(r=t[p])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var c=cc._decorator,p=c.ccclass,a=c.property,s=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.label=null,o.text="hello",o}return r(o,t),o.prototype.start=function(){},o.prototype.update=function(){},o.prototype.moveBackground=function(t){var o=this.node.getPosition();this.node.setPosition(new cc.Vec2((o.x+t)%-900,o.y))},i([a(cc.Label)],o.prototype,"label",void 0),i([a],o.prototype,"text",void 0),i([p],o)}(cc.Component);e.default=s,cc._RF.pop()},{}],CarControl:[function(t,o,e){"use strict";cc._RF.push(o,"a4ee1rjBkRBnYwuQXzL09T8","CarControl");var n,r=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),i=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var p=t.length-1;p>=0;p--)(r=t[p])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var c=t("./CarManager"),p=cc._decorator,a=p.ccclass,s=p.property,l=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.targetPos=null,o.speed_y=200,o.carManager=null,o}var e;return r(o,t),e=o,o.prototype.start=function(){this.speed_y=200*Math.random()+100,this.node.scaleX=.5,this.node.scaleY=-.5;var t=this.node.addComponent(cc.BoxCollider);t.size=new cc.Size(this.node.width,this.node.height+40+30*Math.random()),t.tag=1,cc.director.getCollisionManager().enabled=!0,this.carManager=this.node.getParent()},o.prototype.update=function(t){this.node.y-=this.speed_y*t,this.node.y<=-this.node.height/2&&this.node.destroy()},o.prototype.onCollisionEnter=function(t){0==t.tag?this.node.parent.getComponent(c.default).gameOver():this.node.position.y>t.node.position.y&&(this.speed_y=0)},o.prototype.onCollisionExit=function(t){1==t.tag&&this.node.position.y>t.node.position.y&&this.follow(t.getComponent(e).speed_y)},o.prototype.follow=function(t){this.speed_y=t-5},i([s(cc.Node)],o.prototype,"carManager",void 0),e=i([a],o)}(cc.Component);e.default=l,cc._RF.pop()},{"./CarManager":"CarManager"}],CarManager:[function(t,o,e){"use strict";cc._RF.push(o,"ecb24QADVpLoIv/Qchz62lb","CarManager");var n,r=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),i=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var p=t.length-1;p>=0;p--)(r=t[p])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var c=t("./HoriButtonControl"),p=cc._decorator,a=p.ccclass,s=p.property,l=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.carPres=[],o.time=.5,o.score=0,o.HoriButton=null,o.gameOverView=null,o.audio_gameover=null,o.audio_bg=null,o.audio_follow=null,o}return r(o,t),o.prototype.start=function(){var t=this;cc.audioEngine.playMusic(this.audio_bg,!0),this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(this.time),cc.callFunc(function(){var o=cc.instantiate(t.carPres[Math.floor(14*Math.random())]);o.setParent(t.node),o.y=800,t.HoriButton.getComponent(c.default).actual_step>480?o.x=-t.HoriButton.getComponent(c.default).actual_step%110+110*Math.floor(10*Math.random())+52:o.x=110*Math.floor(10*Math.random())+52}))))},o.prototype.moveCars=function(t){this.node.children.forEach(function(o){var e=o.getPosition();o.setPosition(new cc.Vec2(e.x+t,e.y))})},o.prototype.gameOver=function(){0!=this.HoriButton.getComponent(c.default).blood&&(cc.audioEngine.playEffect(this.audio_gameover,!1),this.HoriButton.getComponent(c.default).blood=0,this.HoriButton.getComponent(c.default).lie_ani(),console.debug("game over"),this.gameOverView.active=!0)},o.prototype.playAgain=function(){cc.director.loadScene("helloworld")},o.prototype.follow_sound=function(){cc.audioEngine.playEffect(this.audio_follow,!1)},i([s(cc.Prefab)],o.prototype,"carPres",void 0),i([s(cc.Sprite)],o.prototype,"HoriButton",void 0),i([s(cc.Node)],o.prototype,"gameOverView",void 0),i([s(cc.AudioClip)],o.prototype,"audio_gameover",void 0),i([s(cc.AudioClip)],o.prototype,"audio_bg",void 0),i([s(cc.AudioClip)],o.prototype,"audio_follow",void 0),i([a],o)}(cc.Component);e.default=l,cc._RF.pop()},{"./HoriButtonControl":"HoriButtonControl"}],Helloworld:[function(t,o,e){"use strict";cc._RF.push(o,"e1b90/rohdEk4SdmmEZANaD","Helloworld");var n,r=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),i=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var p=t.length-1;p>=0;p--)(r=t[p])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var c=cc._decorator,p=c.ccclass,a=c.property,s=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.label=null,o.text="hello",o}return r(o,t),o.prototype.start=function(){this.label.string=this.text},i([a(cc.Label)],o.prototype,"label",void 0),i([a],o.prototype,"text",void 0),i([p],o)}(cc.Component);e.default=s,cc._RF.pop()},{}],HoriButtonControl:[function(t,o,e){"use strict";cc._RF.push(o,"6c75b35aAVPkouu2iw3Kmdf","HoriButtonControl");var n,r=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),i=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var p=t.length-1;p>=0;p--)(r=t[p])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var c=t("./CarManager"),p=t("./BackGroundControl"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.PeopleSprite=null,o.carManager=null,o.BackGroundControl=null,o.moveSpeed=200,o.score=0,o.last_score=0,o.scoreLabel=null,o.gameOverLabel=null,o.audio_score=null,o.actual_step=10,o.max_step=0,o.blood=1,o.isMoving=!1,o}return r(o,t),o.prototype.start=function(){this.node.on(cc.Node.EventType.MOUSE_DOWN,this.onMouseDown,this),this.node.on(cc.Node.EventType.MOUSE_UP,this.onMouseUp,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseUp,this)},o.prototype.onMouseDown=function(t){this.isMoving=!0;var o=this.PeopleSprite.getComponent(cc.Animation);t.getLocation().x>=480?this.moveSpeed=Math.abs(this.moveSpeed):this.moveSpeed=-Math.abs(this.moveSpeed),this.blood>0&&(this.moveSpeed<0?(o.play("move_left"),this.PeopleSprite.getComponent("PeopleControl").move_left()):(o.play("move_right"),this.PeopleSprite.getComponent("PeopleControl").move_right()))},o.prototype.onMouseUp=function(){this.isMoving=!1,this.PeopleSprite.getComponent(cc.Animation).stop(),this.moveSpeed<0?this.PeopleSprite.getComponent("PeopleControl").stop_left():this.PeopleSprite.getComponent("PeopleControl").stop_right()},o.prototype.update=function(t){this.isMoving&&this.moveHorizontal(t)},o.prototype.moveHorizontal=function(t){if(this.blood>0){if(this.PeopleSprite&&this.actual_step<480){var o=this.PeopleSprite.getPosition();this.PeopleSprite.setPosition(new cc.Vec2(Math.max(o.x+this.moveSpeed*t,24),o.y))}this.carManager&&this.actual_step>=480&&(this.carManager.getComponent(c.default).moveCars(-this.moveSpeed*t),this.BackGroundControl.getComponent(p.default).moveBackground(-this.moveSpeed*t)),this.actual_step+=this.moveSpeed*t,this.actual_step>this.max_step&&(this.max_step=this.actual_step),this.score=Math.floor(this.max_step/110),this.scoreLabel.string="Score: "+this.score.toString(),this.gameOverLabel.string="Your score: "+this.score.toString(),this.score>this.last_score&&(cc.audioEngine.playEffect(this.audio_score,!1),this.last_score=this.score)}},o.prototype.lie_ani=function(){var t=this.PeopleSprite.getComponent(cc.Animation);this.moveSpeed>0?t.play("lie_right"):t.play("lie_left")},i([l(cc.Node)],o.prototype,"PeopleSprite",void 0),i([l(cc.Node)],o.prototype,"carManager",void 0),i([l(cc.Node)],o.prototype,"BackGroundControl",void 0),i([l],o.prototype,"moveSpeed",void 0),i([l],o.prototype,"score",void 0),i([l],o.prototype,"last_score",void 0),i([l(cc.Label)],o.prototype,"scoreLabel",void 0),i([l(cc.Label)],o.prototype,"gameOverLabel",void 0),i([l(cc.AudioClip)],o.prototype,"audio_score",void 0),i([s],o)}(cc.Component);e.default=u,cc._RF.pop()},{"./BackGroundControl":"BackGroundControl","./CarManager":"CarManager"}],PeopleControl:[function(t,o,e){"use strict";cc._RF.push(o,"c3167SxxotGrJ9sKsIpx+ix","PeopleControl");var n,r=this&&this.__extends||(n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),i=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var p=t.length-1;p>=0;p--)(r=t[p])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var c=cc._decorator,p=c.ccclass,a=c.property,s=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.label=null,o.text="hello",o}return r(o,t),o.prototype.start=function(){},o.prototype.move_right=function(){1==this.node.anchorX&&(this.node.anchorX=0,this.node.setPosition(new cc.Vec2(this.node.position.x-this.node.width,this.node.position.y)),this.getComponent(cc.BoxCollider).offset.x=this.node.width/2)},o.prototype.move_left=function(){0==this.node.anchorX&&(this.node.anchorX=1,this.node.setPosition(new cc.Vec2(this.node.position.x+this.node.width,this.node.position.y)),this.getComponent(cc.BoxCollider).offset.x=-this.node.width/2)},o.prototype.stop_right=function(){},o.prototype.stop_left=function(){},i([a(cc.Label)],o.prototype,"label",void 0),i([a],o.prototype,"text",void 0),i([p],o)}(cc.Component);e.default=s,cc._RF.pop()},{}]},{},["BackGroundControl","CarControl","CarManager","Helloworld","HoriButtonControl","PeopleControl"]);